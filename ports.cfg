% Listened ports:
{listen, [
	% stun interface
	{3478, ejabberd_stun, [] },
	{{3478, udp}, ejabberd_stun, [] },
	{5349, ejabberd_stun, [{certfile, 'CERT_LOCATION'}] },

	% xmlrpc interface (i.e. used by http://jabber.fsinf.at/register)
	{{4560, "127.0.0.1"}, ejabberd_xmlrpc, []},

	% Client to server connections:
	{5222, ejabberd_c2s,    [ zlib, starttls,
		{access, c2s}, {shaper, c2s_shaper},
		{max_stanza_size, 65536},
		{certfile, 'CERT_LOCATION'}]},
	{5223, ejabberd_c2s,    [ zlib, tls,
		{access, c2s}, {shaper, c2s_shaper},
		{max_stanza_size, 65536},
		{certfile, 'CERT_LOCATION'}]},
	% server to server connections:
	{5269, ejabberd_s2s_in,  [{shaper, s2s_shaper},
		{max_stanza_size, 131072}]},
	
	% http-polling, http-binding, webpresence
	{5280, ejabberd_http, [ http_bind, http_poll,
		{request_handlers, [
			{["presence"], mod_webpresence}
		]}
	]},

	% admin-interface, see fsinf.at:5281/admin (not available from the outside!)
	{{5281, "127.0.0.1"}, ejabberd_http, [web_admin] }

	% Transport:
%	{{5347, "127.0.0.1"}, ejabberd_service, [{hosts, [ "icq.fsinf.at" ],
%		[{password, 'ICQ_FSINF_AT_PASSWORD'}]}]},
%	{{5349, "127.0.0.1"}, ejabberd_service, [{host, "aim.fsinf.at",
%		[{password, 'AIM_FSINF_AT_PASSWORD'}]}]},
%	{{5350, "127.0.0.1"}, ejabberd_service, [{host, "gg.fsinf.at",
%		[{password, 'GG_FSINF_AT_PASSWORD'}]}]},
%	{{5352, "127.0.0.1"}, ejabberd_service, [{host, "myspace.fsinf.at",
%		[{password, 'MYSPACE_FSINF_AT_PASSWORD'}]}]},
%	{{5353, "127.0.0.1"}, ejabberd_service, [{host, "qq.fsinf.at",
%		[{password, 'QQ_FSINF_AT_PASSWORD'}]}]},
%	{{5354, "127.0.0.1"}, ejabberd_service, [{host, "simple.fsinf.at",
%		[{password, 'SIMPLE_FSINF_AT_PASSWORD'}]}]},
%	{{5355, "127.0.0.1"}, ejabberd_service, [{host, "xmpp.fsinf.at",
%		[{password, 'XMPP_FSINF_AT_PASSWORD'}]}]},
%	{{5356, "127.0.0.1"}, ejabberd_service, [{host, "yahoo.fsinf.at",
%		[{password, 'YAHOO_FSINF_AT_PASSWORD'}]}]},
%	{{5357, "127.0.0.1"}, ejabberd_service, [{host, "msn.fsinf.at",
%		[{password, 'MSN_FSINF_AT_PASSWORD'}]}]},
%	{{5358, "127.0.0.1"}, ejabberd_service, [{host, "twitter.fsinf.at",
%		[{password, 'TWITTER_FSINF_AT_PASSWORD'}]}]}

	% Note that port 7777 is provided by mod_proxy65 and is not explicetly listed here.
]}.

% Use STARTTLS+Dialback for S2S connections
{s2s_use_starttls, true}.
{s2s_certfile, 'CERT_LOCATION'}.

% If SRV lookup fails, then port 5269 is used to communicate with remote server
{outgoing_s2s_port, 5269}.

######################
### Global Section ###
######################
# Names this node should listen on. Note that you will have to configure a
# host_config section, before you can actually use a new server.
hosts: 
  - "jabber.at"
  - "jabber.fsinf.at"
  - "fsinf.at"

# only one registration per hour per IP:
language: "en"
auth_method: internal
registration_timeout: 3600
captcha_cmd: "/usr/lib/ejabberd/priv/bin/captcha.sh"
captcha_host: "https://jabber.at:443"
loglevel: 2
shaper: 
  normal: 500
  proxy: 3000
  fast: 50000

welcome_message: 
  subject: "Welcome!"
  body: "Welcome to jabber.at, a Jabber service provided by the Fachschaft Informatik."

#####################
### Include files ###
#####################
include_config_file:
  "/etc/ejabberd/macros.yml": []
  "/etc/ejabberd/acl.yml": []
  "/etc/ejabberd/access.yml": []
#  "/etc/ejabberd/blocked.yml": []
  "/etc/ejabberd/secrets.yml": []
  "/etc/ejabberd/ports.yml": []
  "/etc/ejabberd/modules.yml": []

##########################
### Host configuration ###
##########################
host_config: 
  "jabber.at":
    domain_certfile: 'CERT_LOCATION_JABBER_AT'
    acl: 
      admin: 
        user: 
          - "ra": "jabber.at"
          - "klausi": "jabber.at"


  "jabber.fsinf.at":
    domain_certfile: 'CERT_LOCATION_JABBER_FSINF_AT'
    acl: 
      admin: 
        user: 
          - "fabian": "fsinf.at"

  "fsinf.at": 
    domain_certfile: 'CERT_LOCATION_FSINF_AT'
    acl: 
      admin: 
        user: 
          - 
            "fabian": "fsinf.at"
